#import "../template.typ":*
#import "@preview/cetz:0.2.2"

= Лекция 4
== Гамильтоновы пути и циклы

#definition(title: [Гамильтонов путь],body:[*Гамильтонов цикл(путь)* --- цикл(путь), который проходит по каждой вершине 1 раз.
])

#theorem(name:[Теорема Дирака], body:[
$forall u: deg u >= n/2 => G$ - гамильтонов. 
])

#theorem(name:[Теорема Оре], body:[
$forall u,v: u v in.not E: deg u + deg v >=n =>$ - гамильтонов.
])

#theorem(name:[Теорема Хватала], body:[
        Пусть $G$~--- связный граф с хотя бы 3 вершинами. Пусть его степени вершин~--- $d_1 <= d_2 <=dots<= d_n$. Если выполнено условие
         $
        forall k < n/2:(d_k<= k => d_(n-k)>= n-k)
        $
        то $G$~--- гамильтонов.
      ],proof:[
        Для начала условие
        $
        d_k<= k<n/ 2=> d_(n-k)>= n-k
        $
        назовём $(*)$.
        
    #lemma(body:[
      Пусть $G$ выполнено $(*)$, $ u v in.not E$. Тогда $G union u v$ также $(*)$.

    ],proof:[
            Пусть мы имели
            $d_1<= d_2<=...<= d_n$
            При добавлении ребра $u v$ степени вершин $u$ и $v$ увеличиваются на 1. 
          После пересортировки последовательности степеней выполняется $d_i(G) <= d_i(G union u v)$ 
          для всех $i$. Поскольку условие $(*)$ монотонно относительно возрастания степеней, 
          оно сохраняется.
    ])


     
      Будем доказывать от противного. 
      
      Предположим, существует негамильтонов граф, удовлетворяющий $(*)$.
      
      Выберем такой граф $G$ с:
      - Наименьшим числом вершин
      - Наибольшим числом рёбер среди таких графов

        Тогда:
      1. $G$ не является полным графом (иначе он гамильтонов)
      2. Для любого отсутствующего ребра $u v$ граф $G union u v$ гамильтонов
      3. Выберем отсутствующее ребро $u v$ с максимальной суммой $deg(u) + deg(v)$        
      
    
      Поскольку $G union u v$ гамильтонов, в $G$ существует гамильтонов путь 
     : $ u=u_1 -> u_2 -> ...-> u_(n-1)-> u_n=v $
 
     Введём множества:
      #align(left)[
        //#set math.equation(numbering: "(1)")
        $ S = ( i in [2; n-1] | u u_i in  E(G) ) $
        
        $ T = ( i in [2; n] | u_(i-1) v in E(G) ) $
      ]

      То есть идейно $S$ - все вершины, выходящие из $u$, $T$ - все вершины, входящие в $v$.
      
      Имеем:
      - $|S| = deg(u)$
      - $|T| = deg(v)$
      - $S inter T = nothing$ (иначе существовал бы гамильтонов цикл в $G$:)
      $ u -> u_2 -> u_3-> ... -> u_(i-1) -> v-> u_(n-1)-> u_(n-2)->... u_i -> u $

      Следовательно: 
     
      $ deg(u) + deg(v) = |S| + |T| <= n - 1 $
      


        
     
      
        
        Отсюда $deg u+deg v\<= n-1$.
        
      Без ограничения общности пусть $deg(u) <= deg(v)$. Тогда:
      $ deg(u) <= (n-1) /2 < n/2 $

      Положим $k = deg(u)$. Тогда:
      1. $d_k <= k$ (существует $k$ вершин со степенью $<= k$)
      2. По условию $(*)$: $d_(n-k) >= n-k$

      Тогда, как выше и сказал, существует вершина $w in.not N(u)$ со степенью $deg(w) >= n - k$. 
      Но тогда для ребра $u w$ получаем:
     
        $ deg(u) + deg(w) >= k + (n - k) = n $
  
      что противоречит максимальности выбора ребра $u v$. Противоречие
      ])



== Турниры


#def[Турниры] --- всегда есть направленное ребро между $u,v$

#theorem(title:[Реден, Камеон],
body:[
  Сильно-связный турнир --- гамильтонов
],proof:[
  Очевидное доказательство по индукции
]
)
